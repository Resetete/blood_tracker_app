-# /view_users/:user_id/hemigrams
.container.mt-5.mb-5
  .header-title.p-0.m-0
    %h2
      %span.text-highlight Hemigrams
    .mt-3.d-flex.justify-content-end
      - if @hemigram_dates.any?
        .mx-3= graphs_button('Visualize your data', 'btn-outline-dark')
      = turbo_frame_tag "hemigram_turbo_frame" do
        = link_to 'New data', new_view_user_hemigram_date_path(current_user), class: 'btn btn-outline-dark', data: { turbo_frame: 'new_hemigram_date' }
    .mb-3
      = turbo_frame_tag('new_hemigram_date') do
        - unless @hemigram_dates
          = render partial: 'hemigram_dates/empty_state'
    = turbo_frame_tag('hemigrams') do
      %ul.mt-3.mb-3.list-group
        - @hemigram_dates.each do |record_date|
          - date = record_date.date
          .accordion.accordion-flush#accordion-hemigram-index
            .accordion-item
              %h2.accordion-header{id: "heading-#{date}"}
                %button.accordion-button.collapsed{ type: 'button', 'data-bs-toggle': "collapse", 'data-bs-target': "#collapse-#{date}", 'aria-expanded': "true", 'aria-controls': "collapse-#{date}"}
                  = [date, date.strftime("%A")].join(' - ')
              .accordion-collapse.collapse{id: "collapse-#{date}", 'aria-labelledby': "heading-#{date}", 'data-bs-parent': "#accordion-hemigram-index"}
                .accordion-body
                  = render record_date.hemigrams